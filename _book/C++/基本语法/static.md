# static

### static关键字作用

* 全局静态变量

  全局静态变量在声明它的文件之外是不可见的，从定义处开始到未见结尾

* 局部静态变量

  作用域为局部作用域，当定义它的函数或语句块结束时，其作用域随之结束，它始终驻留在全局数据区，直到程序运行结束

* 静态函数

  表明函数的作用范围，仅在定义该函数的文件内才能使用。在多人开发项目时，为了防止与他人命名空间里的函数重名，可以将函数定位为static

  warning：不要在头文件中声明static的全局函数，不要在cpp内声明非static的全局函数，如果你要在多个cpp中复用该函数，就把它的声明提到头文件里去，否则cpp内部声明要加上static修饰

* 静态成员变量

  在类中，静态成员可以实现多个对象之间的数据共享，并且使用静态数据成员还不会破坏隐藏的原则，即保证了安全性。因此，静态成员是类的所有对象中共享的成员，而不是某个对象的成员。对多个对象来说，静态数据成员只存储一处，供所有对象共用

  静态成员变量在类内进行声明，在类外进行定义和初始化，在类外定义和初始化的时候不要出现static关键字和private,public,protected访问规则

  静态成员变量相当于类域中的全局变量，被类的所有对象共享，**包括派生类的对象**

  静态成员变量可以作为成员函数的参数，而普通成员变量不可以

* 静态成员函数

  静态成员函数和静态数据成员一样，它们都属于类的静态成员，它们都不是对象成员。因此，对静态成员的引用不需要用对象名

  在静态成员函数的实现中不能直接引用类中说明的非静态成员，可以引用类中说明的静态成员（这点非常重要）。因为静态成员函数没有 this 指针，必须通过类名才能访问。静态成员函数做为类作用域的全局函数

  如果静态成员函数中要引用非静态成员时，可通过对象来引用。从中可看出，调用静态成员函数使用如下格式：<类名>::<静态成员函数名>(<参数表>);

  静态成员函数不能声明成虚函数（virtual）、const 函数和 volatile 函数  
    
  
  

### 静态变量什么时候初始化

* 全局变量、文件域的静态变量和类的静态成员变量在main执行之前的静态初始化过程中分配内存并初始化，其可能在编译期（内置类型）初始化或者在加载期（类的静态成员）初始化

* 静态局部变量：在程序的执行路径第一次经过对象定义语句时初始化，并且直到程序终止才被销毁
