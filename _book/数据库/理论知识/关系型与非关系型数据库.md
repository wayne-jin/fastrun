# 关系型与非关系型数据库

### 关系型数据库

#### 优点

- 容易理解。因为它采用了关系模型来组织数据。
- 可以保持数据的一致性。
- 数据更新的开销比较小。
- 支持复杂查询（带where子句的查询）  
  

### 非关系型数据库

非关系型数据库也叫NOSQL，采用键值对的形式进行存储。

它的读写性能很高，易于扩展，可分为内存性数据库以及文档型数据库，比如 Redis，Mongodb，HBase等等。

应用场景：

- 日志系统
- 地理位置存储
- 数据量巨大
- 高可用

优点：

- 不需要经过SQL层的解析，读写效率高。
- 基于键值对，数据的扩展性很好。
- 可以支持多种类型数据的存储，如图片，文档等等。  
  



### mysel,redis和mongodb区别

* **mysql**

  MySQL 是一个关系型数据库。
  MySQL在 WEB 应用方面 MySQL 是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。
  MySQL 是一种关联数据库管理系统， 关联数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。
  MySQL 所使用的 SQL 语言是用于访问数据库的最常用标准化语言。其社区版的性能卓越，搭配 PHP 和 Apache 可组成良好的开发环境。

    
  

  * **优点**
    * 体积小、速度快、总体拥有成本低，开源，提供的接口支持多种语言连接操作。
    * 支持多种操作系统。
    * MySQL 的核心程序采用完全的多线程编程。线程是轻量级的进程，它可以灵活地为用户提供服务，而不过多的系统资源。用多线程和C语言实现的MySQL 能很容易充分利用CPU。
    *  MySQL 有一个非常灵活而且安全的权限和口令系统。当客户与MySQL 服务器连接时，他们之间所有的口令传送被加密，而且MySQL 支持主机认证。
    * MySQL 能够提供很多不同的使用者界面，包括命令行客户端操作，网页浏览器，以及各式各样的程序语言界面，例如 C++，Perl，Java，PHP，以及Python。你可以使用事先包装好的客户端，或者干脆自己写一个合适的应用程序。MySQL可用于 Unix，Windows，以及OS/2等平台，因此它可以用在个人电脑或者是服务器上。
  * **缺点**
    * 不支持热备份。
    * MySQL不支持自定义数据类型。
    * MySQL最大的缺点是其安全系统，主要是复杂而非标准，另外只有到调用mysqladmin来重读用户权限时才发生改变
    * MySQL对存储过程和触发器支持不够良好。
    * 尽管 MySQL 理论上仍是开源产品，也有人抱怨它诞生之后更新缓慢。然而，应该注意到有一些基于 MySQL 并完整集成的数据库（如 MariaDB），在标准的 MySQL 基础上带来了额外价值。
    * MySQL对XML支持不够良好。  
      

* **Redis**

  Redis是一个开源的使用ANSI C语言编写、遵守BSD协议、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。
  它通常被称为数据结构服务器，因为值（value）可以是 字符串(String), 哈希(Map), 列表(list), 集合(sets) 和 有序集合(sorted sets)等类型。

  * **优点**
    * 读写性能优异。
    * 支持数据持久化，支持 AOF 和 RDB 两种持久化方式。
    * 支持主从复制，主机会自动将数据同步到从机，可以进行读写分离。
    * 数据结构丰富:数据结构丰富:支持 string、hash、set、sortedset、list 等数据结构。

  * **缺点**
    * Redis 不具备自动容错和恢复功能，主机从机的宕机都会导致前端部分读写请求失败，需要等待机器重启或者手动切换前端的 IP 才能恢复。
    * 主机宕机，宕机前有部分数据未能及时同步到从机，切换 IP 后还会引入数据不一致的问题，降低了系统的可用性。
    * Redis 的主从复制采用全量复制，复制过程中主机会 fork 出一个子进程对内存做一份快照， 并将子进程的内存快照保存为文件发送给从机，这一过程需要确保主机有足够多的空余内存。若快照文件较大，对集群的服务能力会产生较大的影响，而且复制过程是在从机新加入 集群或者从机和主机网络断开重连时都会进行，也就是网络波动都会造成主机和从机间的一 次全量的数据复制，这对实际的系统运营造成了不小的麻烦。
    * Redis 较难支持在线扩容，在集群容量达到上限时在线扩容会变得很复杂。为避免这一问题，运维人员在系统上线时必须确保有足够的空间，这对资源造成了很大的浪费。  
      

* **MongoDB**

  MongoDB 是由C++语言编写的，是一个基于分布式文件存储的开源数据库系统。
  在高负载的情况下，添加更多的节点，可以保证服务器性能。
  MongoDB 旨在为WEB应用提供可扩展的高性能数据存储解决方案。
  MongoDB 将数据存储为一个文档，数据结构由键值(key=>value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。

  * **优点**
    * 弱一致性(最终一致)，更能保证用户的访问速度。
    * 文档结构的存储方式，能够更便捷的获取数。
    * 内置 GridFS，高效存储二进制大对象 (比如照片和视频)。
    * 内置Sharding。提供基于Range的Auto Sharding机制：一个collection可按照记录的范围，分成若干个段，切分到不同的Shard上。
    * 第三方支持丰富。(这是与其他的NoSQL相比，MongoDB也具有的优势)。
    * 性能优越：在使用场合下，千万级别的文档对象，近10G的数据，对有索引的ID的查询不会比mysql慢，而对非索引字段的查询，则是全面胜出。

  * **缺点**
    * mongodb不支持事务操作。所以事务要求严格的系统（如果银行系统）肯定不能用它。
    * mongodb占用空间过大。
    * MongoDB没有如MySQL那样成熟的维护工具，这对于开发和IT运营都是个值得注意的地方。
